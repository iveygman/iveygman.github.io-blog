<html>
<head>
<script src="http://d3js.org/d3.v3.min.js" charset="utf-8"></script>
<script src="assets/js/mondrian.js"></script>
<script>
function validateColorProb() {
    var min = 0.0;
    var max = 1.0;
    if (min > colorprob.value) {
        colorprob.value = min;
    } else if (max < colorprob.value) {
        colorprob.value = max;
    }
}
var maxWidth = Math.round(window.innerWidth * 0.95);
var maxHeight = Math.round(window.innerHeight * 0.95);
</script>
</head>
<body onload="reloadMondrian()">

<div class='mondrian' id='mondrian'></div>


Rectangle Spacing: <input type="number" name="spacing" min="10" id="spacing" value="40"><br/>
Min Partitions: <input type="number" min="18" max="32" id="minp" value="20"><br/>
Max Partitions: <input type="number" min="18" max="32" id="maxp" value="24"><br/>
Color Probability: <input type="number" id="colorprob" value="0.75" onchange="validateColorProb()"><br/>
<input type="button" onclick="reloadMondrian()" value="Refresh">
<script>
function reloadMondrian() {
    var minpval = document.getElementById('minp').value;
    var maxpval = document.getElementById('maxp').value;
    document.getElementById('mondrian').innerHTML = "";  // clear previous image
    var partitions = randomInt(minpval, maxpval);
    probabilityOfColoration = colorprob.value;
//     console.log(minpval + ',' + maxpval + ',' + partitions + ',' + maxWidth + ',' + maxHeight);
    makeMondrian(partitions, maxWidth, maxHeight, 40);
}
</script>
</body>
</html>
